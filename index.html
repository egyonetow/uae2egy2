<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>âœˆï¸ Ù…Ø³Ø§ÙØ± Ù…Ù† Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø¥Ù„Ù‰ Ù…ØµØ± â€“ Ø§ÙƒØ³Ø¨ Ù…Ù† ÙˆØ²Ù† Ø´Ù†Ø·ØªÙƒ Ø§Ù„ÙØ§Ø¶ÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --accent1: #ffb347;
    --accent2: #ff7b00;
    --card: rgba(10,10,12,0.82);
    --input: rgba(255,255,255,0.06);
    --muted: rgba(255,255,255,0.7);
  }
  html,body{height:100%;margin:0;font-family:"Tajawal",sans-serif;background:#020204;color:#fff}
  /* background night airport (unsplash) */
  body{
    background-image: url("https://images.unsplash.com/photo-1526779259212-8b7f5b04d1f5?auto=format&fit=crop&w=1800&q=80&sat=-30&exp=15");
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* dark overlay blur card */
  .wrap {
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    backdrop-filter: blur(4px);
  }
  .card {
    width:100%;
    max-width:560px;
    background: var(--card);
    border-radius:16px;
    padding:26px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    transform: translateY(10px);
    animation: fadeUp 700ms cubic-bezier(.2,.9,.2,1) forwards;
    border: 1px solid rgba(255,255,255,0.04);
  }
  @keyframes fadeUp{
    from{opacity:0; transform: translateY(18px)}
    to{opacity:1; transform: translateY(0)}
  }
  h1{
    margin:0 0 8px 0;
    font-size:1.45rem;
    color:var(--accent1);
    text-align:center;
  }
  p.lead{
    margin:0 0 18px 0;
    text-align:center;
    color:var(--muted);
    font-size:0.98rem;
  }

  form{display:flex;flex-direction:column;gap:12px}
  .row{display:flex; gap:10px;}
  label{display:block;font-size:0.86rem;color:var(--muted); margin-bottom:6px}
  input[type="text"], input[type="tel"], input[type="number"], input[type="date"], textarea, select {
    width:100%;
    background: var(--input);
    border: 1px solid rgba(255,255,255,0.04);
    color: #fff;
    padding:10px 12px;
    border-radius:10px;
    box-sizing:border-box;
    font-size:0.98rem;
  }
  textarea{min-height:92px; resize:vertical}
  .small {font-size:0.86rem;color:var(--muted); margin-top:6px}

  .submit {
    margin-top:6px;
    background: linear-gradient(90deg,var(--accent2),var(--accent1));
    color:#111;
    border:none;
    padding:12px;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
    font-size:1rem;
    box-shadow: 0 8px 24px rgba(255,123,0,0.12);
  }
  .submit:active{transform:translateY(1px)}

  .reviews{margin-top:18px;padding-top:14px;border-top:1px dashed rgba(255,255,255,0.03)}
  .review{font-size:0.95rem;color:var(--muted); margin:8px 0; background: rgba(255,255,255,0.02); padding:8px 10px;border-radius:8px}

  /* floating small flag buttons */
  .float-actions{
    position:fixed;
    bottom:22px;
    left:22px;
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index:9999;
  }
  .float-btn{
    width:48px;height:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);
    box-shadow:0 6px 18px rgba(0,0,0,0.5); border:1px solid rgba(255,255,255,0.04);
    transition: transform .18s, background .18s;
  }
  .float-btn img{width:26px;height:26px;object-fit:cover;border-radius:4px}
  .float-btn:hover{transform:translateY(-6px); background: rgba(0,0,0,0.6)}

  /* tiny hint / success toast */
  .toast{
    position:fixed;right:22px;bottom:22px;padding:12px 16px;border-radius:10px;background:linear-gradient(90deg,#0b6623,#138a36);color:#fff;box-shadow:0 8px 30px rgba(0,0,0,0.5);display:none;z-index:9999;
  }
  .toast.error{background:linear-gradient(90deg,#8b1e3f,#b21f3b)}
  .hidden{display:none}

  /* responsive */
  @media (max-width:520px){
    .card{padding:18px;border-radius:12px;margin:16px}
    .float-actions{left:12px;bottom:12px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ±ÙŠÙ†">
      <h1>âœˆï¸ Ù…Ø³Ø§ÙØ± Ù…Ù† Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø¥Ù„Ù‰ Ù…ØµØ±ØŸ</h1>
      <p class="lead">Ø§ÙƒØ³Ø¨ Ù…Ù† ÙˆØ²Ù† Ø´Ù†Ø·ØªÙƒ Ø§Ù„ÙØ§Ø¶ÙŠ Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù† â€” Ø³Ø¬Ù‘Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù‡Ù†Ø§ ÙˆØ§Ø­Ù†Ø§ Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ùƒ.</p>

      <form id="travelForm" autocomplete="on" novalidate>
        <div>
          <label for="name">Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
          <input id="name" name="name" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯" required />
        </div>

        <div>
          <label for="whatsapp">Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
          <div class="row">
            <select id="countryCode" aria-label="Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©" title="Ø§Ø®ØªØ± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©" style="width:110px;flex:0 0 110px;">
              <option value="+971">ğŸ‡¦ğŸ‡ª +971</option>
              <option value="+20">ğŸ‡ªğŸ‡¬ +20</option>
            </select>
            <input id="whatsapp" name="whatsapp" type="tel" placeholder="5xxxxxxxx Ø£Ùˆ 01xxxxxxxx" inputmode="tel" required style="flex:1;" />
          </div>
          <div class="small">Ù„Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª ÙŠØ¨Ø¯Ø£ Ø¨Ù€Ù€ 05 Ø§ÙƒØªØ¨ Ø¨Ø¹Ø¯ Ø§Ù„Ù€ +971 Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¯ÙˆÙ† ØµÙØ±. (Ø²Ù‰: +971 5xxxxxxxx)</div>
        </div>

        <div>
          <label for="travelDate">Ù…ÙŠØ¹Ø§Ø¯ Ø§Ù„Ø³ÙØ±</label>
          <input id="travelDate" name="travelDate" type="date" required />
        </div>

        <div>
          <label for="weight">Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙØ§Ø¶ÙŠ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</label>
          <input id="weight" name="weight" type="number" min="0" step="0.5" placeholder="Ù…Ø«Ø§Ù„: 5" required />
        </div>

        <div>
          <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <textarea id="notes" name="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù† Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© Ø£Ùˆ ØªØ¹Ù„ÙŠÙ…Ø§Øª"></textarea>
        </div>

        <button class="submit" type="submit">ğŸ“¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      </form>

      <div class="reviews" aria-hidden="false">
        <div class="review">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ "Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ø±Ø§Ù‚ÙŠ ÙˆØ§Ù„ÙÙ„ÙˆØ³ ÙˆØµÙ„Øª Ø­Ø§Ù„Ø§Ù‹" â€“ Ø£Ø­Ù…Ø¯ (Ø¯Ø¨ÙŠ)</div>
        <div class="review">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ "Ø³Ù‡Ù‘Ù„ÙˆØ§ Ø¹Ù„ÙŠØ§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù‚ÙˆÙŠØŒ Ø´ÙƒØ±Ø§Ù‹" â€“ Ù…Ø±ÙˆØ© (Ø§Ù„Ø´Ø§Ø±Ù‚Ø©)</div>
        <div class="review">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ "Ù…Ù†Ø¸Ù… ÙˆÙˆØ§Ø¶Ø­ØŒ Ø£Ù†ØµØ­ Ø£ÙŠ Ø­Ø¯ ÙŠØ¬Ø±Ø¨Ù‡" â€“ Ø®Ø§Ù„Ø¯ (Ø£Ø¨ÙˆØ¸Ø¨ÙŠ)</div>
      </div>
    </div>
  </div>

  <!-- floating action buttons: WhatsApp UAE + Telegram Egypt -->
  <div class="float-actions" aria-hidden="false">
    <!-- WhatsApp (UAE) -->
    <a id="waBtn" class="float-btn" aria-label="ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª" title="ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª" target="_blank" rel="noopener">
      <!-- small whatsapp svg -->
      <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/flags/4x3/ae.svg" alt="UAE">
    </a>

    <!-- Telegram (Egypt) -->
    <a id="tgBtn" class="float-btn" aria-label="ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù…ØµØ±" title="ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù…ØµØ±" target="_blank" rel="noopener">
      <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/flags/4x3/eg.svg" alt="EG">
    </a>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
/* ====== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (ØºÙŠØ±Ø´ Ø­Ø§Ø¬Ø© Ù‡Ù†Ø§ Ø¥Ù„Ø§ Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªØºÙŠØ±) ====== */
const N8N_WEBHOOK = "https://uae2egy.app.n8n.cloud/webhook-test/d6743876-6f1d-46eb-a7dd-89f6337f71eb";
const TELEGRAM_BOT_TOKEN = "8498151381:AAFqKS8Z87EdO1jM2MW6t722fvFcYaX5aqw";
const TELEGRAM_CHAT_ID = "685598171";
const WHATSAPP_API_PHONE = "971547909135"; // Ø±Ù‚Ù… Ø§Ù„Ù€ CallMeBot Ø§Ù„Ù…Ø±Ø³Ù„ Ù„ÙŠÙƒ (Ø¨Ø¯ÙˆÙ† +)
const WHATSAPP_API_KEY = "1777158"; // Ù…ÙØªØ§Ø­ CallMeBot

/* ====== Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ ====== */
const toastEl = document.getElementById('toast');
function showToast(text, isError = false){
  toastEl.textContent = text;
  toastEl.className = isError ? 'toast error' : 'toast';
  toastEl.style.display = 'block';
  setTimeout(()=>{ toastEl.style.display = 'none'; }, 4500);
}

/* ====== Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙÙ„ÙˆØª (ÙØªØ­ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ùˆ Ø­Ø¨ÙˆØ§ ÙŠØªÙˆØ§ØµÙ„ÙˆØ§) ====== */
const waBtn = document.getElementById('waBtn');
const tgBtn = document.getElementById('tgBtn');
// WhatsApp opens chat with your main number
waBtn.href = "https://wa.me/971547909135?text=" + encodeURIComponent("Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø¹Ø§ÙŠØ² Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø®Ø¯Ù…Ø© Ø§Ù„Ø´Ù†Ø·");
// Telegram opens to t.me link (use your username or deep link). We'll open chat with bot (user can message bot or you can put group/channel link)
tgBtn.href = "https://t.me/8498151381"; // if you prefer open bot - usually bot username used; this will try open bot by id (may not always redirect). You can replace with your bot username if exists.

/* ====== Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====== */
document.getElementById('travelForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());

  // attach country code
  const code = document.getElementById('countryCode').value || "+971";
  // normalize user input: remove spaces and leading zeros when necessary
  let raw = (data.whatsapp || "").replace(/\s+/g, "").replace(/^0+/, "");
  // if user typed number starting with 0 for Egyptian mobile like 010..., we removed leading zero then prefix.
  data.whatsapp = code + raw;

  // build pretty message text (Markdown)
  const messageText = `âœˆï¸ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø³Ø§ÙØ±*\n\n` +
    `ğŸ‘¤ *Ø§Ù„Ø§Ø³Ù…:* ${data.name || "-"}\n` +
    `ğŸ“± *Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨:* ${data.whatsapp || "-"}\n` +
    `ğŸ“… *Ù…ÙŠØ¹Ø§Ø¯ Ø§Ù„Ø³ÙØ±:* ${data.travelDate || "-"}\n` +
    `âš–ï¸ *Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙØ§Ø¶ÙŠ:* ${data.weight || "-"} ÙƒØ¬Ù…\n` +
    `ğŸ“ *Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${ (data.notes && data.notes.trim()) ? data.notes.trim() : "Ù„Ø§ ØªÙˆØ¬Ø¯" }`;

  // 1) Ø£Ø±Ø³Ù„ Ø£ÙˆÙ„Ù‹Ø§ Ù„Ù„Ù€ n8n webhook (ÙŠØ­ÙØ¸ Ø¹Ù†Ø¯Ùƒ ÙˆÙŠØ´ØªØºÙ„ Ø£ÙŠ Ø§ÙˆØ±Ø¯Ø±Ø§Øª Ø¯Ø§Ø®Ù„ n8n)
  try {
    await fetch(N8N_WEBHOOK, {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify(data)
    });
  } catch (err) {
    console.warn("Webhook send failed:", err);
    // Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„ØªÙ†ÙÙŠØ° - Ù†ÙƒÙ…Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª
  }

  // 2) Ø­Ø§ÙˆÙ„ ØªØ¨Ø¹Øª Ø±Ø³Ø§Ù„Ø© Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù…Ù…ÙƒÙ† Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ØªØ­Ø¸Ø± Ø·Ù„Ø¨Ø§Øª CORS Ø¥Ù„Ù‰ api.telegram.org
  try {
    await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({
        chat_id: TELEGRAM_CHAT_ID,
        text: messageText,
        parse_mode: "Markdown"
      })
    });
  } catch (err) {
    console.warn("Telegram send failed (CORS or network):", err);
  }

  // 3) Ø­Ø§ÙˆÙ„ ØªØ¨Ø¹Øª Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ù† Ø·Ø±ÙŠÙ‚ CallMeBot (API Ø¨Ø³ÙŠØ· GET)
  try {
    // CallMeBot accepts GET, Ù„ÙƒÙ† Ù‡Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… fetch GET Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
    const waUrl = `https://api.callmebot.com/whatsapp.php?phone=${encodeURIComponent(WHATSAPP_API_PHONE)}&text=${encodeURIComponent(messageText)}&apikey=${encodeURIComponent(WHATSAPP_API_KEY)}`;
    // Use cors mode 'no-cors' as fallback if blocked (no-cors won't return response but will trigger request)
    await fetch(waUrl, { method: 'GET', mode: 'no-cors' });
  } catch (err) {
    console.warn("CallMeBot send failed:", err);
  }

  // feedback Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
  showToast("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ. Ù‡Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");
  form.reset();
});

/* Accessibility: submit on enter from inputs */
document.querySelectorAll('input').forEach(i=>{
  i.addEventListener('keydown', function(ev){
    if(ev.key === 'Enter' && i.type !== 'textarea'){
      ev.preventDefault();
      document.querySelector('.submit').click();
    }
  });
});
</script>
</body>
</html>
